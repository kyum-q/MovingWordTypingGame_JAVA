import java.awt.Color;
import java.awt.Container;
import java.awt.Font;

import javax.swing.JLabel;
import javax.swing.JPanel;

public class ScorePanel extends JPanel {
	private Thread gameTh = null;
	private Font font = new Font("íƒ€ì´í¬_ìŒë¬¸ë™ B", Font.BOLD, 15);
	private int score = 0;
	private JLabel textLabel = new JLabel("ì ìˆ˜");
	private JLabel scoreLabel = new JLabel(Integer.toString(score));
	
	private int lifeCount = 3;
	private int MaxLife = 5;
	private JLabel life [] = new JLabel[MaxLife];
	private int lifeX = 10, lifeY = 40;
	
	private JLabel bombText = new JLabel("ì†Œì§€ í­íƒ„ : ");
	private JLabel bomb [] = new JLabel[5];
	private int bombCount = 0;
	private int bombX = 10, bombY = 100;
	
	private JLabel speedText = new JLabel(" ");
	
	public ScorePanel() {
		setBackground(Color.LIGHT_GRAY);
		setLayout(null); // Layout ì œê±°
		
		textLabel.setSize(50,20);
		textLabel.setLocation(10,10);
		textLabel.setFont(font); // font ì„¤ì •
		add(textLabel);
		
		scoreLabel.setSize(100,20);
		scoreLabel.setLocation(70,10);
		scoreLabel.setFont(font); // font ì„¤ì •
		add(scoreLabel);
		
		bombText.setSize(100,15);
		bombText.setLocation(10,70);
		bombText.setFont(font); // font ì„¤ì •
		add(bombText);
		
		speedText.setSize(300,50);
		speedText.setFont(font); // font ì„¤ì •
		speedText.setLocation(10,130);
		add(speedText);
		
		lifeInit();
		bombInit();
	}
	public void setGameThread(GameThread gameTh) {
		this.gameTh = gameTh;
	}
	public void scoreInit() { // score ì´ˆê¸°í™”
		lifeCount = 3;
		bombCount = 0;
		score = 0;
		scoreLabel.setText(Integer.toString(score));
		
		lifePrint();
		bombPrint();
	}
	public void lifeInit() { // life ì´ˆê¸°í™”
		int x = this.lifeX;
		// 5ê°œë¥¼ ê·¸ë ˆì´
		for(int i=0; i<MaxLife; i++) {
			life[i] = new JLabel("â™¥");
			life[i].setSize(10,10);
			life[i].setLocation(x,lifeY);
			life[i].setForeground(Color.GRAY);
			this.add(life[i]);
			x += 20;
		}
		// í˜„ì¬ ê°€ì§€ê³  ìˆëŠ” life ê°¯ìˆ˜ ë§Œí¼ ë¹¨ê°„ìƒ‰
		for(int i=0; i<lifeCount; i++) 
			life[i].setForeground(Color.RED);
	}
	public void lifePrint() {
		// 5ê°œë¥¼ ê·¸ë ˆì´
		for(int i=0; i<MaxLife; i++) 
			life[i].setForeground(Color.GRAY);
		// í˜„ì¬ ê°€ì§€ê³  ìˆëŠ” life ê°¯ìˆ˜ ë§Œí¼ ë¹¨ê°„ìƒ‰
		for(int i=0; i<lifeCount; i++) 
			life[i].setForeground(Color.RED);
	}
	public boolean checkLifeCount() { // lifeê°œìˆ˜ í™•ì¸
		if(lifeCount>=MaxLife)
			return true;
		else
			return false;
		}
	public void lifeiIncrease() {// life ì¦ê°€
		life[lifeCount].setForeground(Color.RED);
		lifeCount++;
	}
	public void lifeDecrease() { // life ê°ì†Œ
		lifeCount--;
		life[lifeCount].setForeground(Color.GRAY);
		if(lifeCount == 0) { //lifeê°€ 0ì¼ë•Œ 
			gameTh.interrupt(); // gameThì¢…ë£Œ
		}	
	}
	public void bombInit() {
		int x = this.bombX;
		for(int i=0; i<5; i++) {
			bomb[i] = new JLabel(" ");
			bomb[i].setSize(20,20);
			bomb[i].setLocation(x,bombY);
			add(bomb[i]);
			x += 20;
		}
	}
	public void bombPrint() {
		for(int i=0; i<5; i++) 
			bomb[bombCount].setText("");
		// ê°€ì§€ê³  ìˆëŠ” í­íƒ„ê°œìˆ˜ë§Œí¼ í­íƒ„ ê·¸ë¦¼ í‘œì‹œ
		for(int i=0; i<bombCount; i++) 
			bomb[bombCount].setText("ğŸ’£");
	}
	public void bombIncrease() {
		if(bombCount >= 5) // í­íƒ„ ìµœëŒ€ 5ê°œ
			return;
		bomb[bombCount].setText("ğŸ’£");
		bombCount++;
	}
	public void bombDecrease() { // í­íƒ„ ê°¯ìˆ˜ ì¤„ì´ê¸°
		if(bombCount <= 0)
			return;
		bombCount--;
		bomb[bombCount].setText("");
	}
	public int getBombCount() { return bombCount; } // í­íƒ„ ê°¯ìˆ˜ í™•ì¸
	
	public int getScore() { return score; } // ì ìˆ˜ í™•ì¸
	public void increase(int i) { // ì ìˆ˜ ì¦ê°€
		score += i;
		scoreLabel.setText(Integer.toString(score));
		if(score >= 100) { // ì ìˆ˜ê°€ 100ì ì´ë©´ ê²Œì„ ì„±ê³µìœ¼ë¡œ ì¢…ë£Œ
			((GameThread) gameTh).setEnd(1);
			gameTh.interrupt();
		}
	}
	public void changeSpeed(String speed) {	speedText.setText(speed); }
	// speed text ë³€ê²½
}